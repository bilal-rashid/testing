import{o as y,a as v,r as w,j as e,L as N,Q as a}from"./index-F0uvlsHd.js";import{o as S}from"./yup-T7nDE8GX.js";import{u as g}from"./index.esm-D7_iMr1k.js";import{c as E,a as n}from"./object-DkfBSX30.js";import{A as F}from"./AccountLayout-D6hF36BU.js";import{F as i}from"./FormInput-BqRBY1DN.js";import"./world-J20cQgd_.js";import{B as L}from"./Button-DEBuu1m2.js";import"./Form-CTfXWlVo.js";import"./ElementChildren-DaDnB9c6.js";import"./Col-CeeRnQxB.js";import"./InputGroupContext-C-h8jlw8.js";import"./useAccountLayout-BoYHr4O6.js";import"./credentialing_logo-CwyIIjEL.js";import"./Card-Cmn7cKYw.js";import"./divWithClassName-B4nvZjDC.js";import"./setPrototypeOf-DgZC2w_0.js";import"./warning-BsyeZTUT.js";import"./clsx-B-dksMZM.js";import"./Button-DEBg3Qkk.js";const k=()=>e.jsx("footer",{className:"footer footer-alt",children:e.jsx("small",{className:"text-muted",children:e.jsx(N,{to:"/login",className:"text-muted ms-1",children:"Return to Login"})})}),P=()=>{const{accountStore:m,tenantsStore:l}=v(),{loadTenants:o,tenantsSorted:c,loading:d}=l,p={email:"",password:"",tenant:"root"},u=E({tenant:n().required("Tenant key is required"),email:n().email("Must be a valid email").max(255).required("Email is required")}),x=g({defaultValues:p,resolver:S(u)}),{handleSubmit:h,register:r,control:f,formState:{errors:j}}=x,b=async t=>{const s=await m.forgotPassword(t);(s==null?void 0:s.succeeded)===!0?a.success("Password reset email sent"):a.error("Could not send email")};return w.useEffect(()=>{o()},[o]),e.jsx(F,{bottomLinks:e.jsx(k,{}),children:e.jsxs("div",{className:"my-auto",children:[e.jsx("h4",{className:"mt-0",children:"Forgot Password"}),e.jsx("p",{className:"text-muted mb-4",children:"Enter your email address to receive a password reset link."}),e.jsxs("form",{onSubmit:h(b),noValidate:!0,children:[e.jsx(i,{label:"Email",type:"text",placeholder:"name@example.com",containerClass:"mb-3",register:r,name:"email"}),e.jsx("div",{className:"d-grid mb-0 text-center",children:e.jsx(L,{variant:"primary",type:"submit",disabled:d,children:"Submit"})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("small",{className:"d-sm-flex d-none",children:"Specify the tenant with the dropdown. The Nano Boilerplate can resolve tenants by subdomain in real deployments."}),e.jsx(i,{type:"select",label:"Tenant",name:"tenant",containerClass:"mt-1 w-50",register:r,errors:j,control:f,children:c.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))},"className")]})]})]})})},X=y(P);export{X as default};
