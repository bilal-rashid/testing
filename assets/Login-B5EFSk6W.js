import{o as L,a as S,j as e,L as N,Q as d}from"./index-F0uvlsHd.js";import{c as v,a as o}from"./object-DkfBSX30.js";import{u as k}from"./index.esm-D7_iMr1k.js";import{o as q}from"./yup-T7nDE8GX.js";import{A as E}from"./AccountLayout-D6hF36BU.js";import{F as c}from"./FormInput-BqRBY1DN.js";import"./world-J20cQgd_.js";import{L as A}from"./LoadingButton-B6IRlRGW.js";import{B as C}from"./Button-DEBuu1m2.js";import"./Form-CTfXWlVo.js";import"./ElementChildren-DaDnB9c6.js";import"./Col-CeeRnQxB.js";import"./InputGroupContext-C-h8jlw8.js";import"./useAccountLayout-BoYHr4O6.js";import"./credentialing_logo-CwyIIjEL.js";import"./Card-Cmn7cKYw.js";import"./divWithClassName-B4nvZjDC.js";import"./setPrototypeOf-DgZC2w_0.js";import"./warning-BsyeZTUT.js";import"./clsx-B-dksMZM.js";import"./Button-DEBg3Qkk.js";const F=({handleAdminCredentials:t})=>e.jsx("footer",{className:"footer footer-alt p-0",children:e.jsxs("p",{className:"text-muted",children:["Demo Quick Access"," ",e.jsx(C,{variant:"outline-primary",className:"m-2",onClick:t,children:"Admin Credentials"})]})}),B=()=>{const{accountStore:t,tenantsStore:u}=S(),{loadTenants:I,tenantsSorted:P,loading:r}=u,p={email:"",password:"",tenant:"root"},x=v({tenant:o().required("Tenant key is required"),email:o().email("Must be a valid email").max(255).required("Email is required"),password:o().min(6,"Password should be of minimum 6 characters length").required("Password is required")}),g=k({defaultValues:p,resolver:q(x)}),{handleSubmit:h,register:i,control:V,setError:n,setValue:f,formState:{errors:Q,isValid:j,isSubmitting:m}}=g,b=()=>{l("email","admin@email.com"),l("password","Password123!")},l=(a,s)=>{f(a,s)},w=async a=>{try{await t.login(a),d.success("Logged In Successfully!")}catch(s){const y=(s==null?void 0:s.message)||"Login failed";d.error(y),n("email",{message:"Wrong user credentials"}),n("password",{message:"Wrong user credentials"})}};return e.jsx(E,{bottomLinks:e.jsx(F,{handleAdminCredentials:b}),children:e.jsxs("div",{className:"my-auto",children:[e.jsx("h2",{className:"mt-0",children:"Sign In"}),e.jsx("p",{className:"text-muted mb-4",children:"Enter your email address and password to access account."}),e.jsxs("form",{onSubmit:h(w),noValidate:!0,children:[e.jsx(c,{label:"Email",type:"text",placeholder:"name@example.com",containerClass:"mb-3",register:i,name:"email"}),e.jsx(c,{label:"Password",type:"password",placeholder:"Enter your password",containerClass:"mb-3",register:i,name:"password",children:e.jsx(N,{to:"/forgot-password",className:"text-muted float-end",children:e.jsx("small",{children:"Forgot your password?"})})}),e.jsx("div",{className:"d-grid mb-0 text-center",children:e.jsx(A,{variant:"primary",type:"submit",disabled:!j&&r&&m,loading:r||m,children:e.jsxs("div",{className:"d-flex justify-content-center align-content-center gap-1 mx-auto",children:[e.jsx("i",{className:"mdi mdi-login"}),"Log In"]})})})]})]})})},oe=L(B);export{oe as default};
