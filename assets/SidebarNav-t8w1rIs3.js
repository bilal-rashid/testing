import{d as R,j as s,L as x,r as d,a as C,B,c as N,R as E,m as D,b as j}from"./index-F0uvlsHd.js";import{S as F}from"./simplebar-react.esm-Cne10Fc6.js";import{c as v}from"./clsx-B-dksMZM.js";import{C as P}from"./Collapse-Dk2HgaRM.js";import{C as y}from"./credentialing_logo-CwyIIjEL.js";import{u as A}from"./avatar-1-zYvbWrFt.js";import"./index-DERQo0GJ.js";import"./TransitionWrapper-Cb4OEx4M.js";import"./listen-DOhMskc_.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./setPrototypeOf-DgZC2w_0.js";import"./useMergedRefs-B_kWwTNW.js";const k=(e,t)=>{let n=[];const r=b(e,t.parentKey);return r&&(n.push(r.key),r.parentKey&&(n=[...n,...k(e,r)])),n},b=(e,t)=>{if(e&&t)for(var n=0;n<e.length;n++){if(e[n].key===t)return e[n];var r=b(e[n].children,t);if(r)return r}return null},T=({item:e,className:t})=>{const[n]=R(),r=n.get("practiceId");return s.jsxs(x,{to:{pathname:e.url,search:`?practiceId=${r}`},target:e.target,className:v("side-nav-link-ref","side-sub-nav-link",t),"data-menu-key":e.key,children:[e.icon&&s.jsx("i",{className:e.icon}),e.badge&&s.jsx("span",{className:v("badge","bg-"+e.badge.variant,"rounded","font-10","float-end",{"text-dark":e.badge.variant==="light","text-light":e.badge.variant==="dark"||e.badge.variant==="secondary"}),children:e.badge.text}),s.jsxs("span",{children:[" ",e.label," "]})]})},M=({item:e,className:t,linkClassName:n})=>s.jsx("li",{className:v("side-nav-item",t),children:s.jsx(T,{item:e,className:n})}),L=({item:e,linkClassName:t,subMenuClassNames:n,activeMenuItems:r,toggleMenu:i})=>{const[c,u]=d.useState(r.includes(e.key)),{layoutStore:g}=C(),p=g.leftSideBarType===B.LEFT_SIDEBAR_TYPE_CONDENSED;d.useEffect(()=>{u(r.includes(e.key))},[r,e]);const h=a=>{a.preventDefault();const l=!c;return u(l),i&&i(e,l),!1};return s.jsxs("li",{className:N("side-nav-item",{"menuitem-active":c}),children:[s.jsxs(x,{to:"",onClick:h,"data-menu-key":e.key,"aria-expanded":c,className:t,children:[e.icon&&s.jsx("i",{className:e.icon}),e.badge?s.jsx("span",{className:`badge bg-${e.badge.variant} float-end`,children:e.badge.text}):s.jsx("span",{className:"menu-arrow"}),s.jsxs("span",{children:[" ",e.label," "]})]}),s.jsx(P,{in:c,children:s.jsx("div",{className:p?"collapse":"",children:s.jsx("ul",{className:N(n),id:"sidebarDashboards",children:(e.children||[]).map((a,l)=>s.jsx(E.Fragment,{children:a.children?s.jsx(L,{item:a,linkClassName:r.includes(a.key)?"active":"",activeMenuItems:r,subMenuClassNames:"side-nav-third-level",toggleMenu:i}):s.jsx(M,{item:a,className:r.includes(a.key)?"menuitem-active":"",linkClassName:r.includes(a.key)?"active":""})},l.toString()))})})})]})},w=({menuItems:e})=>{var h;let t=D();const{accountStore:n}=C(),r=d.useRef(null),[i,c]=d.useState([]),u=d.useMemo(()=>e.filter(a=>{var l,m,o;return((m=a.roles)==null?void 0:m.includes(((l=n.currentUser)==null?void 0:l.roleId)||j.basic))||!a.roles||((o=a.roles)==null?void 0:o.length)==0}),[e,(h=n.currentUser)==null?void 0:h.roleId]),g=(a,l)=>{l&&c([a.key,...k(e,a)])},p=d.useCallback(()=>{const a=document.getElementById("main-side-menu");let l=null;if(a){let m=a.getElementsByClassName("side-nav-link-ref");for(let o=0;o<m.length;++o)if(t.pathname===m[o].pathname){l=m[o];break}if(l){const o=l.getAttribute("data-menu-key"),f=b(e,o);f&&c([f.key,...k(e,f)])}}},[t.pathname,e]);return d.useEffect(()=>{p()},[p]),s.jsx("ul",{className:"side-nav",ref:r,id:"main-side-menu",children:u.map((a,l)=>s.jsx(E.Fragment,{children:a.isTitle?s.jsx("li",{className:"side-nav-title",children:a.label}):s.jsx(s.Fragment,{children:a.children?s.jsx(L,{item:a,toggleMenu:g,subMenuClassNames:"side-nav-second-level",activeMenuItems:i,linkClassName:"side-nav-link"}):s.jsx(M,{item:a,linkClassName:"side-nav-link",className:`side-nav-item ${i.includes(a.key)?"menuitem-active":""}`})})},l.toString()))})},O=[{key:"practice-providers",label:"Practice & Providers",icon:"ri-dossier-line",url:"/practice-providers"},{key:"provider-tracker",label:"Provider Tracker",icon:"ri-dossier-line",url:"/provider-tracker"},{key:"app-user-management",label:"User Management",icon:"mdi mdi-account-outline",url:"/users",roles:[j.root,j.admin]}],S=({hideUserProfile:e})=>s.jsxs(s.Fragment,{children:[!e&&s.jsx("div",{className:"leftbar-user",children:s.jsxs(x,{to:"/",children:[s.jsx("img",{src:A,alt:"",height:"42",className:"rounded-circle shadow-sm"}),s.jsx("span",{className:"leftbar-user-name",children:"Dominic Keller"})]})}),s.jsx(w,{menuItems:O})]}),V=({isCondensed:e,hideLogo:t,hideUserProfile:n})=>{const r=d.useRef(null),i=c=>{if(r&&r.current&&r.current.contains(c.target))return;const u=document.querySelector("html");u&&u.classList.remove("sidebar-enable")};return d.useEffect(()=>(document.addEventListener("mousedown",i,!1),()=>{document.removeEventListener("mousedown",i,!1)}),[]),s.jsxs("div",{className:"leftside-menu",ref:r,children:[!t&&s.jsx(s.Fragment,{children:s.jsxs(x,{to:"/",className:"logo text-center",children:[s.jsx("span",{className:"logo-lg",children:s.jsx("img",{src:y,alt:"logo",style:{height:40}})}),s.jsx("span",{className:"logo-sm",children:s.jsx("img",{src:y,alt:"logo",style:{height:30}})})]})}),!e&&s.jsx(F,{style:{maxHeight:"100%"},timeout:500,scrollbarMaxSize:320,children:s.jsx(S,{hideUserProfile:n})}),e&&s.jsx(S,{hideUserProfile:n})]})};export{V as default};
