import{i as E,a as N,d as k,j as e,L as j,o as I,k as F,l as _,z as $,r as x,A as S,B as w}from"./index-F0uvlsHd.js";import{c as b}from"./clsx-B-dksMZM.js";import{A as B}from"./Avatar-CLVYePaJ.js";import{g as R}from"./getInitials-fn6u8gr9.js";import{D as f}from"./Dropdown-CCtc8wHV.js";import{l as M}from"./logo-CjI6dXrc.js";import{F as O}from"./Form-CTfXWlVo.js";import"./DataKey-COGXBUcQ.js";import"./listen-DOhMskc_.js";import"./SSRProvider-wOBfTkjq.js";import"./usePrevious-gswdWBZu.js";import"./NavContext-DCzKn6gs.js";import"./useEventCallback-s6m76CRA.js";import"./useCallbackRef-C_9nMhi0.js";import"./mergeOptionsWithPopperConfig-Bgqxz8md.js";import"./useWindow-m91wy-Xa.js";import"./warning-BsyeZTUT.js";import"./contains-xpjwsOxO.js";import"./Button-DEBg3Qkk.js";import"./hook-BcehJP6k.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./Anchor-BaQl6fCi.js";import"./useMergedRefs-B_kWwTNW.js";import"./InputGroupContext-C-h8jlw8.js";import"./NavbarContext-C6pngPXu.js";import"./Button-DEBuu1m2.js";import"./ElementChildren-DaDnB9c6.js";import"./Col-CeeRnQxB.js";const Y=[{label:"Profile",icon:"mdi mdi-account-circle",redirectTo:"/profile?tab=user-info"},{label:"Preferences",icon:"mdi mdi-account-edit",redirectTo:"/profile?tab=preferences"},{label:"Password",icon:"mdi mdi-lifebuoy",redirectTo:"/profile?tab=password"},{label:"Logout",icon:"mdi mdi-logout",redirectTo:"/account/logout"}],q=({username:t,menuItems:p,userImage:r})=>{const[T,i]=E(),{accountStore:u}=N(),{logout:m,currentUser:o}=u,[g]=k(),d=g.get("practiceId");return e.jsxs(f,{show:T,as:"li",onToggle:i,children:[e.jsxs(f.Toggle,{variant:"link",id:"dropdown-profile",as:j,to:`?practiceId=${d}`,onClick:i,className:"nav-link dropdown-toggle arrow-none nav-user px-2",children:[e.jsx("span",{className:"account-user-avatar",children:e.jsx(B,{src:r,text:R((o==null?void 0:o.firstName)||"",(o==null?void 0:o.lastName)||""),height:"3rem",width:"3rem"})}),e.jsxs("span",{className:"d-lg-flex flex-column gap-1 d-none",children:[e.jsx("h5",{className:"my-0",children:t}),e.jsxs("h6",{className:"my-0 fw-normal text-start text-capitalize",children:[o==null?void 0:o.roleId," User"]})]})]}),e.jsx(f.Menu,{align:"end",className:"dropdown-menu-animated topbar-dropdown-menu profile-dropdown",children:e.jsx("div",{onClick:i,children:p.map((a,n)=>a.label==="Logout"?e.jsxs("div",{className:"dropdown-item notify-item",onClick:m,children:[e.jsx("i",{className:b(a.icon,"me-1")}),e.jsx("span",{children:a.label})]},n+"-profile-menu"):e.jsxs(j,{to:`${a.redirectTo}&practiceId=${d}`||"#",className:"dropdown-item notify-item",children:[e.jsx("i",{className:b(a.icon,"me-1")}),e.jsx("span",{children:a.label})]},n+"-profile-menu"))})})]})},z=""+new URL("logo-sm-B5g0PoSc.png",import.meta.url).href,V=()=>{const{layoutStore:t}=N();return e.jsx("div",{className:"nav-link cursor-pointer",onClick:()=>t.toggleThemeColor(),children:t.theme===F.LAYOUT_THEME_DARK?e.jsx("i",{className:"uil uil-sun font-22"}):e.jsx("i",{className:"uil uil-moon font-22"})})},H=I(V),K=({hideLogo:t,navCssClasses:p,openLeftMenuCallBack:r,topbarDark:T})=>{const i=_(),[u]=k(),m=u.get("practiceId"),{layoutStore:o,accountStore:g,authStore:d,practiceStore:a}=N(),{loadPractices:n,practices:v}=a,{width:L}=$(),[,y]=E(),{layoutType:D,leftSideBarType:h}=o,{currentUser:s}=g,c=x.useMemo(()=>v,[v]),C=()=>{switch(y(),r&&r(),D){case S.LAYOUT_VERTICAL:L>=768&&((h==="fixed"||h==="scrollable")&&o.changeSidebarType(w.LEFT_SIDEBAR_TYPE_CONDENSED),h==="condensed"&&o.changeSidebarType(w.LEFT_SIDEBAR_TYPE_FIXED));break;case S.LAYOUT_FULL:{const l=document.querySelector("html");l&&l.classList.toggle("hide-menu");break}}},P=()=>{document.body.classList.toggle("fullscreen-enable"),document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen()};x.useEffect(()=>{c.length&&!m&&i(`?practiceId=${c[0].id}`)},[c]),x.useEffect(()=>{n({pageNumber:1,pageSize:100,userId:s==null?void 0:s.id})},[n]);const A=l=>{i(`?practiceId=${l.target.value}`)};return e.jsx("div",{className:b("navbar-custom",p),children:e.jsxs("div",{className:"topbar container-fluid",children:[e.jsxs("div",{className:"d-flex align-items-center gap-lg-2 gap-1",children:[e.jsx("button",{className:"button-toggle-menu",onClick:C,children:e.jsx("i",{className:"mdi mdi-menu"})}),e.jsx("ul",{className:"breadcrumb m-0 d-none d-sm-flex",children:e.jsx("li",{className:"breadcrumb-item active",children:d.title})})]}),!t&&e.jsxs(j,{to:"/",className:"topnav-logo",children:[e.jsx("span",{className:"topnav-logo-lg",children:e.jsx("img",{src:M,alt:"logo",height:"16"})}),e.jsx("span",{className:"topnav-logo-sm",children:e.jsx("img",{src:z,alt:"logo",height:"16"})})]}),e.jsxs("ul",{className:"topbar-menu d-flex align-items-center gap-3",children:[e.jsx("li",{className:"d-none d-sm-inline-block",children:e.jsx(H,{})}),e.jsx("li",{className:"d-none d-md-inline-block",children:e.jsx("button",{className:"nav-link",onClick:P,children:e.jsx("i",{className:"ri-fullscreen-line font-22"})})}),e.jsx(O.Select,{value:m||"","aria-label":"Default select example",onChange:A,children:c.length&&c.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))}),e.jsx(q,{userImage:(s==null?void 0:s.imageUrl)||"",menuItems:Y,username:`${s==null?void 0:s.firstName} ${s==null?void 0:s.lastName}`})]})]})})},ve=I(K);export{ve as default};
